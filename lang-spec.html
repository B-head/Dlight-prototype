<!DOCTYPE html>
<html lang="ja" dir="ltr">

<!-- #BeginTemplate "master.dwt" -->

<head>
<meta charset="utf-8" />
<!--[if IE]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link href="normalize.css" rel="stylesheet" type="text/css" />
<link href="layout.css" rel="stylesheet" type="text/css" />
<link href="base.css" rel="stylesheet" type="text/css" />
<!-- #BeginEditable "doctitle" -->
<title>言語仕様 - プログラミング言語 Dreit</title>
<!-- #EndEditable -->
</head>

<body>
<div class="header">
	<h1>プログラミング言語 Dreit</h1>
</div>
<div class="main_container">
	<div class="left-nav-back"></div>
	<div class="page-content-back"></div>
	<div class="left-nav">
		<ul>
			<li><a href="index.html">ホーム</a></li>
			<li>
				<a href="lang-spec.html">言語仕様</a>
				<ul>
					<li><a href="lang-struct.html">言語構造</a></li>
					<li><a href="literal.html">リテラル</a></li>
					<li><a href="expression.html">式</a></li>
					<li><a href="statement.html">制御文</a></li>
					<li><a href="declaration.html">宣言</a></li>
					<li><a href="routine.html">ルーチン</a></li>
					<li><a href="class.html">クラス</a></li>
					<li><a href="template.html">テンプレート</a></li>
				</ul>
			</li>
			<li><a href="https://github.com/B-head/Dreit-prototype">GitHub</a></li>
		</ul>
	</div>
	<!-- #BeginEditable "content" -->
	<div class="page-content">
		<h2>言語仕様</h2>
		<p>
			この文書は、Dreitの言語仕様とコンパイラの実装状況を記述した文書です。
			ただし、B_headの<strong>能力不足</strong>により<strong>不完全</strong>な文書となっています。
		</p>
		<p>
			ごめんなさい。
		</p>
		<p>
			今後のアップデートで大幅な情報の拡充をしていく予定ですが、
			現状の文書で情報の足りない部分については、<a href="https://twitter.com/B_head00">B_headのツイッター</a>でご連絡頂ければ情報の提供を致しますので、よろしくお願い致します。
		</p>
		<h3>未実装と部分的実装の機能について</h3>
		<p>
			Dreitコンパイラは現在開発中のため、未実装の機能や実装の不完全な機能があります。
			というより、大抵の機能が未実装か不完全な実装です。
		</p>
		<p>
			本当はもっと機能を実装してからリリースをしたかったのですが、時間的な制約でこんな状況になってしまいました。
			もっと時間が欲しい。
		</p>
		<p>
			<span class="not-inp">未実装</span>とマークされた項目は、コンパイラに実装されていない機能です。
		</p>
		<p>
			<span class="partial-inp">部分的実装</span>とマークされた項目は、基本的な機能は実装されていますが、実装が不完全か部分的に実装されていない機能です。
		</p>
		<h3>文法の記述法</h3>
		<p>
			この言語仕様では、Dreitの文法の定義にBNFに似た文法生成規則を使用します。
			ここでは、文法生成規則の記述法について述べます。
		</p>
		<h4>終端記号</h4>
		<p>
			終端記号は、言語に現れる文字を表します。
			終端記号を表す表記は、以下の3種類があります。
		</p>
		<p>ダブルクオートで囲まれた文字列は、該当の文字列で構成される終端記号であることを表します。</p>
		<pre><code class="enbf">"terminal"</code></pre>
		<p>
			シャープ#に続く16進数で構成された文字列は、Unicodeの文字番号で参照される文字であることを表します。
			次の例は、Unicode番号5Aで参照されるZの文字である、という意味になります。
		</p>
		<pre><code class="enbf">#5A</code></pre>
		<p>
			角括弧[]で囲まれたハイフン-とその両隣にある文字で構成された文字列は、-の左の文字から右の文字までの範囲にある、いずれかの文字であることを表します。
			次の例は、AからZまでの範囲のいずれかの文字である、という意味になります。
		</p>
		<pre><code class="enbf">[A-Z]</code></pre>
		<h4>非終端記号</h4>
		<p>
			非終端記号は、後述の生成規則の定義への参照です。
			これは、英文字の並びで構成される文字列で表されます。
		</p>
		<pre><code class="enbf">Nonterminal</code></pre>
		<h4>生成規則の定義</h4>
		<p>
			生成規則の定義は、非終端記号の後にコロン:が続いた行で始まります。
			続く行には、非終端記号が参照された際に展開される、終端記号と非終端記号で構成されたシーケンスが記述されます。
			生成規則の適用時に、長さの異なる複数の適用方法がある場合は、その中で最も長い物が適用されます。
			以下の記述は、非終端記号EchoDirectiveが参照された場合に、<code>"echo" Expression</code>に展開されることを示します。
		</p>
<pre><code class="enbf">EchoStatement:
	"echo" Expression</code></pre>
		<p>
			同じ非終端記号の展開規則が複数ある場合には、複数行のシーケンスが記述され、記述された行のいずれか一行に展開されることを示します。
			複数の規則が適用可能な場合は、もっとも上に記述された規則が適用されます。
			以下の記述は、<code>"?" Expression "::" Expression "::" Expression</code>か<code>"?" Expression "::" Expression</code>のどちらかに展開されることを示します。
		</p>
<pre><code class="enbf">ConditionalExpression:
	"?" Expression "::" Expression "::" Expression
	"?" Expression "::" Expression</code></pre>
		<p>
			それぞれの終端記号と非終端記号は空白によって区切られますが、これは文法中で空白文字が出現しても良いことを<b>示しません</b>。
			空白文字が出現しても良いかどうかは、後述するピリオド.によって示されます。
		</p>
		<h4>規則の補助記号</h4>
		<p>
			生成規則では、規則の記述を簡単にするための補助記号が使用されます。
			以下は、使用される記号の使用法と意味の一覧表です。
		</p>
		<div>
			<table>
				<tr>
					<th>記号</th>
					<th>使用法</th>
					<th>意味</th>
				</tr>
				<tr>
					<td>,</td>
					<td>,</td>
					<td>LineSeparatorsへのエイリアスです。</td>
				</tr>
				<tr>
					<td>.</td>
					<td>.</td>
					<td>SpaceSeparatorsへのエイリアスです。</td>
				</tr>
				<tr>
					<td>;</td>
					<td>;</td>
					<td>ExpressionSeparatorsへのエイリアスです。</td>
				</tr>
				<tr>
					<td>?</td>
					<td>A?</td>
					<td>Aが出現しなくても良いことを示します。</td>
				</tr>
				<tr>
					<td>*</td>
					<td>A*</td>
					<td>Aが0回以上出現することを示します。</td>
				</tr>
				<tr>
					<td>+</td>
					<td>A+</td>
					<td>Aが1回以上出現することを示します。</td>
				</tr>
				<!--<tr>
					<td>~</td>
					<td>A ~ B</td>
					<td>AとBは順不同でも良いことを示します。</td>
				</tr>-->
				<tr>
					<td>^</td>
					<td>A ^ B</td>
					<td>Aで許容されるシーケンスから、<br>Bに完全に一致するシーケンスを取り除いた生成規則であることを示します。</td>
				</tr>
			</table>
		</div>
		<h4>記号の適用範囲の変更</h4>
		<p>
			補助記号が適用される範囲の変更に、丸括弧()で記号のシーケンスを囲んだ表記が使用されます。
			次の例は、丸括弧()を使用して、<code>.".." Expression</code>が1回以上繰り返し出現することを示します。
		</p>
<pre><code class="enbf">SequenceLiteral:
	."[" Expression (.".." Expression)+ ."]"</code></pre>
	</div>
	<!-- #EndEditable -->
	<div class="clear"></div>
</div>
<div class="footer">
	Copyright © 2014 by B_head, All Rights Reserved.
</div>
</body>

<!-- #EndTemplate -->

</html>
